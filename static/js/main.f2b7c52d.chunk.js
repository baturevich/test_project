(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,a){"use strict";a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return E}));var n=a(9),r=a.n(n),o=a(15),s=a(38),c=a(6),i=a(13),u={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isLoading:!1,followInProgress:[]},l=function(e){return{type:"FOLLOW",user_id:e}},_=function(e){return{type:"UNFOLLOW",user_id:e}},m=function(e){return{type:"IS_LOADING",answer:e}},d=function(e,t){return{type:"TOGGLE_FOLLOW_PROGRESS",answer:e,user_id:t}},f=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(m(!0)),n({type:"SET_CURRENT_PAGE",current_page:e}),a.next=4,i.d.getUsers(e,t);case 4:o=a.sent,n(m(!1)),n({type:"SET_USERS",users:o.items}),n({type:"SET_TOTAL_USERS_COUNT",user_count:o.totalCount});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(d(!0,e)),t.next=3,i.b.follow(e);case 3:0==t.sent.data.resultCode&&(a(l(e)),a(d(!1,e)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(d(!0,e)),t.next=3,i.b.unfollow(e);case 3:0==t.sent.data.resultCode&&(a(_(e)),a(d(!1,e)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(c.a)({},e,{users:e.users.map((function(e){return e.id===t.user_id?Object(c.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(c.a)({},e,{users:e.users.map((function(e){return e.id===t.user_id?Object(c.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(c.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(c.a)({},e,{currentPage:t.current_page});case"SET_TOTAL_USERS_COUNT":return Object(c.a)({},e,{totalUsersCount:t.user_count});case"IS_LOADING":return Object(c.a)({},e,{isLoading:t.answer});case"TOGGLE_FOLLOW_PROGRESS":return Object(c.a)({},e,{followInProgress:!0===t.answer?[].concat(Object(s.a)(e.followInProgress),[t.user_id]):[e.followInProgress.filter((function(e){return e!=t.user_id}))]});default:return e}}},13:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return i}));var n=a(129),r=a.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"28997550-8233-4ca6-9877-0023cdccb20d"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}},s={follow:function(e){return r.post("follow/".concat(e),{})},unfollow:function(e){return r.delete("follow/".concat(e))}},c={getProfileData:function(e){return r.get("profile/".concat(+e))},getStatusData:function(e){return r.get("profile/status/".concat(+e))},upStatusData:function(e){return r.put("profile/status",{status:e})},upProfileInfo:function(e){return r.put("profile",e)},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},i={getAuthData:function(){return r.get("auth/me")},authorize:function(e){return r.post("auth/login",e)},deAuthorize:function(){return r.delete("auth/login")}}},134:function(e,t,a){e.exports={wrapper:"AppPreloader_wrapper__319Uo"}},135:function(e,t,a){e.exports={profile:"Profile_profile__2OmA0"}},136:function(e,t,a){e.exports={content:"Profile_Left_Side_content__2sEB3"}},137:function(e,t,a){e.exports={content:"Profile_Posts_content__3bbwc"}},138:function(e,t,a){e.exports=a.p+"static/media/Loading.951c2859.gif"},139:function(e,t,a){e.exports={preloader:"Preloader_preloader__2JnqH"}},14:function(e,t,a){e.exports={menu:"Navigation_menu__WC7xp",menu__item:"Navigation_menu__item__1Fvrk",menu__link:"Navigation_menu__link__1GeE_"}},166:function(e,t,a){e.exports=a(294)},172:function(e,t,a){},173:function(e,t,a){},19:function(e,t,a){e.exports={post:"Profile_Post_post__3A51s",post_data:"Profile_Post_post_data__tpCyv",user_img:"Profile_Post_user_img__1-Aes",name:"Profile_Post_name__35LQe",date:"Profile_Post_date__HM3jV",action:"Profile_Post_action__32Nro",post_content:"Profile_Post_post_content__qYNSx",like_block:"Profile_Post_like_block__1otAX",like_btn_active:"Profile_Post_like_btn_active__102hA",like_btn:"Profile_Post_like_btn__3kS4y"}},2:function(e,t,a){e.exports={profile__header:"Profile_Header_profile__header__2T2zx",profile__cover:"Profile_Header_profile__cover__1rgV7",profile__info:"Profile_Header_profile__info__3_QGg",main_info:"Profile_Header_main_info__19oXM",main_info_item:"Profile_Header_main_info_item__kqr5i",soc_net_on_profile:"Profile_Header_soc_net_on_profile__4r1kf",soc_net_on_profile__item:"Profile_Header_soc_net_on_profile__item__ogmjn",profile__item:"Profile_Header_profile__item__3vvhM",profile__name:"Profile_Header_profile__name__2h1ot",status:"Profile_Header_status__2Ht8_",button_group:"Profile_Header_button_group__3YHhR",show_more:"Profile_Header_show_more__uOn0F",profile_data:"Profile_Header_profile_data__2c8af",short_data_content:"Profile_Header_short_data_content__DuDzY",profile_data__number:"Profile_Header_profile_data__number__WriAD",more_info:"Profile_Header_more_info__fryma",more_item:"Profile_Header_more_item__2SnCg",user_features:"Profile_Header_user_features__1XAZI",user_data_names:"Profile_Header_user_data_names__66Xny",user_data_answers:"Profile_Header_user_data_answers__1Dwn2",hide_more:"Profile_Header_hide_more__3eK7r",edit_info:"Profile_Header_edit_info__5EgSi",edit_info_mobile:"Profile_Header_edit_info_mobile__3V9t8",close_edit_info:"Profile_Header_close_edit_info__OZ4ez",close_edit_info_mobile:"Profile_Header_close_edit_info_mobile__2LTRA",edit_mode_inputs:"Profile_Header_edit_mode_inputs__1EFfS",contacts_block:"Profile_Header_contacts_block__2yeyz",switch:"Profile_Header_switch__2G72U",slider:"Profile_Header_slider__1xSZG",error:"Profile_Header_error__-spid",profile__item_img_block:"Profile_Header_profile__item_img_block__1EXg0",profile__img:"Profile_Header_profile__img__1Anxi",upload_photo:"Profile_Header_upload_photo__2A3j9",setting_photo:"Profile_Header_setting_photo__LXsfA",setting_text:"Profile_Header_setting_text__DdAmI"}},23:function(e,t,a){e.exports={login:"Login_login__3B4t7",offer:"Login_offer__1wC6s",form_login:"Login_form_login__1y0Q8",login_title:"Login_login_title__OZT1M",inputs:"Login_inputs__3j-Zr",buttons:"Login_buttons__lXHEw",forgout:"Login_forgout__2D7AQ",check:"Login_check__3SJXF",some_error:"Login_some_error__1B56f"}},24:function(e,t,a){e.exports={content:"Header_content__sTZXn",header__wrapper:"Header_header__wrapper__1wQ46",header__logo:"Header_header__logo__Z85K1",input_wrapper:"Header_input_wrapper__1tJ1P",search_input:"Header_search_input__2AEJe",search_btn:"Header_search_btn__5KUjH",user_ungle:"Header_user_ungle__7gXA5",profile_img:"Header_profile_img__7GDbp",profile_name:"Header_profile_name__2FFTP",user_notification:"Header_user_notification__UkT8X",logout:"Header_logout__2XGn0"}},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(66),s=a.n(o),c=(a(171),a(172),a(173),a(7)),i={header_data:[{id:1,name:"kirill",imgUrl:"https://baturevich.ru/images/cn/user_img.jpg"}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;arguments.length>1&&arguments[1];return e},l=a(9),_=a.n(l),m=a(15),d=a(38),f=a(6),p=a(13),E=a(69),h=a(27),b="profile/ADD_POST",g={isSetProfileData:!1,user_data:{},status_data:"",posts_data:[],user_data_default:{id:1,photos:{small:"https://baturevich.ru/images/cn/user2.jpg",large:"https://baturevich.ru/images/cn/user2.jpg"},name:"No name",posts_count:1,friends_count:2,followers_count:999,music_count:15,videos_count:9},more_user_data:[{quest:"About me",answer:"Programmer on React.js"},{quest:"Autitude to smoking",answer:"Negative"},{quest:"Autitude to alcohol",answer:"Negative"}],isLoading:!1},v=function(e){return{type:"profile/IS_LOADING",answer:e}},N=function(e){return{type:"profile/SET_STATUS_DATA",status_data:e}},O=function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(v(!0)),!e){t.next=7;break}return t.next=4,p.c.getProfileData(e);case 4:n=t.sent,a({type:"profile/SET_USER_DATA",user_data:n.data}),a(v(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.c.getStatusData(e);case 2:n=t.sent,a(N(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.c.upStatusData(e);case 2:0==t.sent.data.resultCode&&a(N(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/IS_LOADING":return Object(f.a)({},e,{isLoading:t.answer});case b:var a=t.post_text,n={id:e.posts_data.length,name:e.user_data.name||e.user_data_default.name,date:Object(E.a)("full_date"),text:a,imgUrl:e.user_data.photos.small||e.user_data_default.photos.small,likeCounts:0,commentCounts:0};if(""!==a)return Object(f.a)({},e,{posts_data:[].concat(Object(d.a)(e.posts_data),[n])});case"profile/DELETE_POST":return Object(f.a)({},e,{posts_data:e.posts_data.filter((function(e){return e.id!=t.post_id}))});case"profile/SET_USER_DATA":return Object(f.a)({},e,{user_data:t.user_data,isSetProfileData:!0});case"profile/SET_STATUS_DATA":return Object(f.a)({},e,{status_data:t.status_data});case"profile/SET_PROFILE_PHOTO":return Object(f.a)({},e,{user_data:Object(f.a)({},e.user_data,{photos:t.photos})});case"profile/SET_MORE_USER_DATA":return Object(f.a)({},e,{more_user_data:t.data});default:return e}},j=a(93),T=a(104),A={data:{},photos:{},isLoading:!1,isAuth:!1,user_data_default:{id:1,imgUrl:"https://baturevich.ru/images/cn/user2.jpg",name:"No name",posts_count:1,friends_count:2,followers_count:999,music_count:15,videos_count:9}},k=function(e){return{type:"auth/IS_LOADING",answer:e}},y=function(e){return{type:"auth/SET_AUTH_DATA",answer:e}},C=function(){return function(){var e=Object(m.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getAuthData();case 2:0==(a=e.sent).data.resultCode&&t({type:"auth/SET_AUTH_USER_DATA",auth_data:a.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.c.getProfileData(e);case 2:n=t.sent,a({type:"auth/SET_AUTH_PHOTOS",photos:n.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/IS_LOADING":return Object(f.a)({},e,{isLoading:t.answer});case"auth/SET_AUTH_USER_DATA":return Object(f.a)({},e,{data:t.auth_data,isAuth:!0});case"auth/SET_AUTH_DATA":return Object(f.a)({},e,{isAuth:t.answer});case"auth/SET_AUTH_PHOTOS":return Object(f.a)({},e,{photos:t.photos});default:return e}},L=a(130),H=a(128),I={initialized:!1,device:"desktop"},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/INITIALIZATION_SUCCESSFUL":return Object(f.a)({},e,{initialized:!0});case"app/INITIALIZING_DEVICE":return Object(f.a)({},e,{device:t.answer});default:return e}},M=Object(c.c)({profile_page:S,chats_page:j.b,header:u,users_page:T.a,auth_data:x,app:U,form:H.a}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,G=Object(c.e)(M,F(Object(c.a)(L.a)));window.__store__=G;var R,z=G,J=a(8),X=a(12),Z=a(28),V=a(29),q=a(31),B=a(30),W=a(23),K=a.n(W),Q=a(126),Y=a(127),$=function(e){if(!e)return"This field is required"},ee=a(140),te=a(89),ae=a.n(te),ne=function(e){var t=e.input,a=e.meta,n=Object(ee.a)(e,["input","meta"]),o=a.touched&&a.error;return r.a.createElement("div",{className:ae.a.formControl+" "+(o?ae.a.error:" ")},o&&r.a.createElement("span",null,a.error),r.a.createElement("input",Object.assign({},t,n)))},re=a(40),oe=function(e){Object(q.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){var a=Object(f.a)({},t,{captcha:!0}),n=e.props.loginTC(a);Promise.all([n]).then((function(t){0===t[0]&&e.props.history.push("/profile/".concat(+e.props.auth_user_id))}))},e}return Object(V.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:K.a.login},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-xs-12"},r.a.createElement("div",{className:K.a.offer},r.a.createElement("h1",null,"Vision.com"),r.a.createElement("p",null,"Special for you"))),r.a.createElement("div",{className:"col-md-6 col-xs-12"},r.a.createElement(ce,{onSubmit:this.onSubmit})))))}}]),a}(r.a.Component),se=(R=50,function(e){if(e.length>R)return"Max length ".concat(R," sumbols")}),ce=Object(Y.a)({form:"login"})((function(e){return r.a.createElement("div",{className:K.a.form_wrapper},r.a.createElement("form",{className:K.a.form_login,onSubmit:e.handleSubmit},r.a.createElement("h2",{className:K.a.login_title},"Login"),r.a.createElement("div",{className:K.a.inputs},r.a.createElement(Q.a,{placeholder:"login",name:"email",type:"email",component:ne,validate:[$,se]}),r.a.createElement(Q.a,{placeholder:"Password",name:"password",type:"password",component:ne,validate:[$,se]})),r.a.createElement("div",{className:K.a.check},r.a.createElement(Q.a,{type:"checkbox",name:"rememberMe",component:"input"}),"Remember Me"),r.a.createElement("div",{className:e.error&&K.a.some_error},r.a.createElement("span",null,e.error)),r.a.createElement("div",{className:K.a.buttons},r.a.createElement("button",null,"Log In"),r.a.createElement("button",null,"Sign In")),r.a.createElement("a",{href:"##",className:K.a.forgout},"Forgout your passsword?")))})),ie=Object(c.d)(Object(J.b)((function(e){return{state:e,auth_user_id:e.auth_data.data.id}}),{loginTC:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(k(!0)),t.next=3,p.a.authorize(e);case 3:return 0==(n=t.sent).data.resultCode?(a(y(!0)),a(k(!1))):a(Object(h.b)("login",{_error:n.data.messages[0]})),t.abrupt("return",n.data.resultCode);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),re.f)(oe),ue=a(134),le=a.n(ue),_e=function(e){return r.a.createElement("div",{className:le.a.wrapper})},me=a(135),de=a.n(me),fe=(a(293),a(136)),pe=a.n(fe),Ee=function(){return r.a.createElement("div",{className:"".concat(pe.a.content," col-sm-5")})},he=a(137),be=a.n(he),ge=a(34),ve=a.n(ge),Ne=Object(Y.a)({form:"newProfilePostForm"})((function(e){return r.a.createElement("form",{className:ve.a.post,onSubmit:e.handleSubmit},r.a.createElement("div",{className:ve.a.wrapper},r.a.createElement("img",{src:e.imgUrl,alt:"User-img",className:ve.a.user_img}),r.a.createElement(Q.a,{name:"newPostText",component:"textarea",className:ve.a.post_text})),r.a.createElement("div",{className:ve.a.btn_group},r.a.createElement("button",{className:ve.a.btn},"Post")))})),Oe=function(e){return r.a.createElement("div",{className:ve.a.content},r.a.createElement("div",{className:ve.a.preview},r.a.createElement("h1",{className:ve.a.title},"Create Post")),r.a.createElement(Ne,Object.assign({},e,{onSubmit:e.onAddPost})))},Pe=Object(J.b)((function(e){return{imgUrl:e.auth_data.photos.small}}),{addPostAC:function(e){return{type:b,post_text:e}},reset:h.a})((function(e){return r.a.createElement(Oe,{onAddPost:function(t){e.addPostAC(t.newPostText),e.reset("newProfilePostForm")},imgUrl:e.imgUrl})})),we=a(32),Se=a(19),je=a.n(Se),Te=function(e){var t=Object(n.useState)(0),a=Object(we.a)(t,2),o=a[0],s=a[1];return r.a.createElement("div",{className:je.a.post},r.a.createElement("div",{className:je.a.post_data},r.a.createElement("img",{src:e.post.imgUrl,className:je.a.user_img}),r.a.createElement("div",{className:je.a.name_and_date},r.a.createElement("p",{className:je.a.name},e.post.name),r.a.createElement("p",{className:je.a.date},e.post.date)),r.a.createElement("div",{className:je.a.action,onClick:function(){return e.deletePostAC(e.post.id)}},r.a.createElement("i",{className:"material-icons"},"clear"))),r.a.createElement("div",{className:je.a.post_content},r.a.createElement("p",{className:je.a.text_content},e.post.text)),r.a.createElement("div",{className:je.a.like_block},r.a.createElement("a",{onClick:function(){s(0==o?o+1:o-1)},className:0==o?je.a.like_btn:je.a.like_btn_active},r.a.createElement("i",{className:0==o?"fa fa-heart-o":"fa fa-heart"}),o),r.a.createElement("a",{href:"##",className:je.a.komments_btn},r.a.createElement("i",{className:"fa fa-comment-o"}),e.post.commentCounts)))},Ae=Object(J.b)(null,{deletePostAC:function(e){return{type:"profile/DELETE_POST",post_id:e}}})((function(e){return r.a.createElement(Te,{post:e.post,deletePostAC:e.deletePostAC})})),ke=Object(J.b)((function(e){return{profile_page:e.profile_page}}),{})((function(e){return r.a.createElement("div",{className:"".concat(be.a.content," col-sm-7")},r.a.createElement(Pe,null),Object(d.a)(e.profile_page.posts_data).reverse().map((function(e){return r.a.createElement(Ae,{key:10*Math.random(),post:e})})))})),ye=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement(Ee,null),r.a.createElement(ke,null))},Ce=a(2),De=a.n(Ce),xe=Object(c.d)(Object(J.b)((function(e){return{auth_user_id:e.auth_data.data.id,status_data:e.profile_page.status_data}}),{upStatusDataTC:w}),re.f)((function(e){var t=e.match.params.user_id==e.auth_user_id,a=Object(n.useState)(!1),o=Object(we.a)(a,2),s=o[0],c=o[1],i=Object(n.useState)(e.status_data),u=Object(we.a)(i,2),l=u[0],_=u[1];Object(n.useEffect)((function(){_(e.status_data)}),[e.status_data]);return r.a.createElement("div",{className:De.a.status},s?t&&r.a.createElement("input",{value:l,onChange:function(e){_(e.currentTarget.value)},autoFocus:!0,type:"text",onBlur:function(){c(!1),e.upStatusDataTC(l)}}):r.a.createElement("span",{onDoubleClick:function(){e.match.params.user_id==e.auth_user_id&&c(!0)}},e.status_data||"No status"))})),Le=Object(Y.a)({form:"edit_profile_info"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:De.a.edit_mode},r.a.createElement("button",{className:"mobile"!=e.device?De.a.edit_info:De.a.edit_info_mobile},r.a.createElement("i",{className:"material-icons"},"done"),"Save"),r.a.createElement("span",{className:"mobile"!=e.device?De.a.close_edit_info:De.a.close_edit_info_mobile,onClick:function(){return e.setEditMode(!1)}},r.a.createElement("i",{className:"material-icons"},"exit_to_app"),"Close"),r.a.createElement("div",{className:De.a.user_features},r.a.createElement("div",{className:De.a.user_data_names},r.a.createElement("p",null,"About me:"),r.a.createElement("p",null,"look for work:"),r.a.createElement("p",null,"look for work description:"),r.a.createElement("div",{className:De.a.contacts_block},Object.keys(e.user_data.contacts).map((function(e){return r.a.createElement("p",{key:10*Math.random()},e,":")})))),r.a.createElement("div",{className:De.a.edit_mode_inputs},r.a.createElement(Q.a,{name:"aboutMe",type:"text",component:"input"}),r.a.createElement("label",{className:De.a.switch},r.a.createElement(Q.a,{name:"lookingForAJob",type:"checkbox",component:"input"}),r.a.createElement("span",{className:De.a.slider})),r.a.createElement(Q.a,{name:"lookingForAJobDescription",type:"text",component:"input"}),Object.keys(e.user_data.contacts).map((function(e){return r.a.createElement(Q.a,{key:10*Math.random(),name:"contacts."+e,type:"text",component:"input"})}))),e.error&&r.a.createElement("div",{className:De.a.error},r.a.createElement("span",null,e.error))))})),He=function(e){return r.a.createElement("div",{className:De.a.user_features},r.a.createElement("div",{className:De.a.user_data_names},r.a.createElement("p",null,"About me:"),r.a.createElement("p",null,"look for work:"),r.a.createElement("p",null,'"look for work desciption:"'),Object.keys(e.user_data.contacts).map((function(t){return r.a.createElement("p",{key:10*Math.random()},e.user_data.contacts[t]&&t)}))),r.a.createElement("div",{className:De.a.user_data_answers},r.a.createElement("p",null,e.user_data.aboutMe||"Data is not defined"),r.a.createElement("p",null,e.user_data.lookingForAJob?"Yes":"No"),r.a.createElement("p",null,e.user_data.lookingForAJobDescription),Object.keys(e.user_data.contacts).map((function(t){return r.a.createElement("p",{key:10*Math.random()},e.user_data.contacts[t])}))))},Ie=function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),o=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(we.a)(c,2),u=i[0],l=i[1];return o?r.a.createElement("div",{className:De.a.more_info},e.isOwner&&!u&&r.a.createElement("span",{className:"mobile"!=e.device?De.a.edit_info:De.a.edit_info_mobile,onClick:function(){return l(!0)}},r.a.createElement("i",{className:"material-icons"},"edit"),"Edit"),u?r.a.createElement(Le,{device:e.device,user_data:e.user_data,initialValues:e.user_data,onSubmit:function(t){var a=Object(f.a)({},t,{fullName:"Kirill Baturevich"});e.updateProfileInfoTC(a),l(!1)},setEditMode:l}):r.a.createElement(He,{user_data:e.user_data}),r.a.createElement("button",{className:De.a.hide_more,onClick:function(){return s(!1)}},"Hide more information",r.a.createElement("i",{className:"fa fa-angle-up"}))):r.a.createElement("div",{className:De.a.more_info},r.a.createElement("button",{className:De.a.show_more,onClick:function(){return s(!0)}},"Show more information",r.a.createElement("i",{className:"fa fa-angle-down"})))},Ue=function(e){return e.profile_page.user_data},Me=function(e){return e.profile_page.isLoading},Fe=Object(c.d)(Object(J.b)((function(e){return{user_data:Ue(e),auth_user_id:e.auth_data.data.id}}),{uploadPhotoTC:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.c.uploadPhoto(e);case 2:n=t.sent,a({type:"profile/SET_PROFILE_PHOTO",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},reqAuthPhoto:D}),re.f)((function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),o=a[0],s=a[1];return r.a.createElement("div",{className:"".concat(De.a.profile__item," ").concat(De.a.profile__item_img_block)},o?r.a.createElement("div",{className:De.a.setting_photo},r.a.createElement("p",{className:De.a.setting_text},"Setting photo...")):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("img",{src:e.user_data.photos.large||"https://baturevich.ru/images/cn/user2.jpg",alt:"User_img",className:De.a.profile__img}),e.match.params.user_id==e.auth_user_id&&r.a.createElement("label",{className:De.a.upload_photo},r.a.createElement("i",{className:"material-icons"},"get_app"),r.a.createElement("input",{type:"file",onChange:function(t){if(t.target.files.length){s(!0);var a=e.uploadPhotoTC(t.target.files[0]);Promise.all([a]).then((function(){s(!1),D(e.auth_user_id)}))}}}))))})),Ge=function(e){return r.a.createElement("div",{className:"".concat(De.a.profile__item," ").concat(De.a.short_data_content," ").concat(De.a.main_info_item)},r.a.createElement("div",{className:De.a.profile_data},r.a.createElement("p",{className:De.a.profile_data__number},e.posts_data.length||"0"),"Posts"),r.a.createElement("div",{className:De.a.profile_data},r.a.createElement("p",{className:De.a.profile_data__number},e.user_data.music_count||"64"),"Music"),r.a.createElement("div",{className:De.a.profile_data},r.a.createElement("p",{className:De.a.profile_data__number},e.user_data.videos_count||"3"),"Videos"),r.a.createElement("div",{className:De.a.profile_data},r.a.createElement("p",{className:De.a.profile_data__number},e.user_data.followers_count||"137"),"Followers"))},Re=function(e){return r.a.createElement("div",{className:De.a.profile__info},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 col-xs-12 col-sm-12"},r.a.createElement(Fe,{user_data:e.user_data,isAuthUserProfile:e.isAuthUserProfile}),r.a.createElement("div",{className:De.a.assets},r.a.createElement("div",{className:De.a.button_group},r.a.createElement("button",null,"Follow"),r.a.createElement(X.b,{to:"/chats/".concat(+e.user_data.userId)},"New Message")))),r.a.createElement("div",{className:"col-md-9 col-xs-12 col-sm-12"},r.a.createElement("div",{className:De.a.main_info},r.a.createElement("div",{className:"".concat(De.a.profile__item," ").concat(De.a.main_info_item," d-block")},r.a.createElement("h1",{className:De.a.profile__name},e.user_data.fullName?e.user_data.fullName:e.user_data.name),r.a.createElement(xe,{status_data:e.status_data,upStatusDataTC:e.upStatusDataTC})),r.a.createElement("div",{className:"".concat(De.a.main_info_item)},r.a.createElement(Ie,{user_data:e.user_data,device:e.device,isOwner:e.isOwner,updateProfileInfoTC:e.updateProfileInfoTC})),r.a.createElement(Ge,{user_data:e.user_data,posts_data:e.posts_data})))))},ze=a(94),Je=Object(c.d)(Object(J.b)((function(e){return{posts_data:e.profile_page.posts_data,user_data:Ue(e),isLoading:Me(e),isSetProfileData:e.profile_page.isSetProfileData,auth_user_id:e.auth_data.data.id,device:e.app.device}}),{getProfileDataTC:O,getStatusDataTC:P,upStatusDataTC:w,updateProfileInfoTC:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(a,n){var r,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth_data.data.id,t.next=3,p.c.upProfileInfo(e);case 3:0==(o=t.sent).data.resultCode?a(O(r)):a(Object(h.b)("edit_profile_info",{_error:o.data.messages[0]}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),re.f)((function(e){var t,a,n=(t=e.auth_user_id,a=e.match.params.user_id,t==a);return r.a.createElement(r.a.Fragment,null,1==e.isLoading?r.a.createElement(ze.a,null):e.isSetProfileData&&r.a.createElement(Re,{user_data:e.user_data,user_data_default:e.user_data_default,isOwner:n,posts_data:e.posts_data,device:e.device,updateProfileInfoTC:e.updateProfileInfoTC}))})),Xe=Object(c.d)(Object(J.b)(null,{getStatusDataTC:P,getProfileDataTC:O}),re.f)((function(e){return Object(n.useEffect)((function(){var t=e.match.params.user_id;e.getStatusDataTC(t),e.getProfileDataTC(t)}),[]),Object(n.useEffect)((function(){e.getProfileDataTC(e.match.params.user_id)}),[e.match.params.user_id]),r.a.createElement("div",{className:de.a.profile},r.a.createElement(Je,null),r.a.createElement(ye,null))})),Ze=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(_e,null)},r.a.createElement(e,t))}},Ve=function(e){return r.a.createElement("h1",{style:{marginTop:"150px",textAlign:"center",fontSize:"50px",color:"#000"}},"Vision")},qe=r.a.lazy((function(){return a.e(3).then(a.bind(null,305))})),Be=r.a.lazy((function(){return a.e(4).then(a.bind(null,306))})),We=Object(J.b)((function(e){return{device:e.app.device}}),{})((function(e){return r.a.createElement("div",{className:"content_container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(re.b,{path:"/profile/:user_id",render:Ze(Xe)}),r.a.createElement(re.b,{path:"/chats",render:Ze(qe)}),r.a.createElement(re.b,{path:"/vision",render:function(){return r.a.createElement(Ve,null)}}),r.a.createElement(re.b,{path:"/users",render:Ze(Be)})))})),Ke=a(24),Qe=a.n(Ke),Ye=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:Qe.a.header__wrapper},r.a.createElement(X.b,{to:"/vision",className:Qe.a.header__logo},"Vision.com"),r.a.createElement("div",{className:"".concat(Qe.a.input_wrapper)},r.a.createElement("input",{type:"text",className:Qe.a.search_input,placeholder:"Search"}),r.a.createElement(X.b,{to:"/vision",className:Qe.a.search_btn},r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement("div",{className:Qe.a.user_ungle},r.a.createElement("a",{href:"",className:Qe.a.user_notification},r.a.createElement("i",{className:"fa fa-bell-o"})),r.a.createElement(X.b,{to:"/profile/".concat(e.user_id),className:Qe.a.profile_name},e.name),r.a.createElement("img",{src:e.imgUrl,alt:"profile-picture",className:Qe.a.profile_img}),r.a.createElement("button",{className:Qe.a.logout,onClick:e.deLoginTC},"Log Out"))))},$e=function(e){Object(q.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"render",value:function(){return r.a.createElement(Ye,this.props)}}]),a}(r.a.Component),et=Object(J.b)((function(e){return{name:e.auth_data.data.login,imgUrl:e.auth_data.photos.small,user_id:e.auth_data.data.id}}),{deLoginTC:function(){return function(e){p.a.deAuthorize().then((function(t){0==t.data.resultCode&&e(y(!1))}))}}})($e),tt=a(14),at=a.n(tt),nt=function(e){return r.a.createElement("section",{className:"navigation"},r.a.createElement("ul",{className:at.a.menu},r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/profile/".concat(e.user_id),className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-user"}),r.a.createElement("span",null,"My profile"))),r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/newsfeed",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-newspaper-o"}),r.a.createElement("span",null,"Newsfees"))),r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/chats",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-comments"}),r.a.createElement("span",null,"Messages"))),r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/users",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-users"}),r.a.createElement("span",null,"Users"))),r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/videos",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-video-camera"}),r.a.createElement("span",null,"Videos"))),r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/music",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-music"}),r.a.createElement("span",null,"Music"))),"mobile"!=e.device&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/bookmarks",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-star"}),r.a.createElement("span",null,"Bookmsrks"))),r.a.createElement("li",{className:at.a.menu__item},r.a.createElement(X.b,{to:"/documents",className:at.a.menu__link},r.a.createElement("i",{className:"fa fa-file"}),r.a.createElement("span",null,"Documents"))))))},rt=function(e){Object(q.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"render",value:function(){return r.a.createElement(nt,{user_id:this.props.user_id,device:this.props.device})}}]),a}(r.a.Component),ot=Object(c.d)(Object(J.b)((function(e){return{user_id:e.auth_data.data.id,device:e.app.device}}),{}),re.f)(rt),st=function(e){Object(q.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getAuthDataTC();Promise.all([e]).then(this.props.reqAuthPhoto(this.props.auth_user_id))}},{key:"render",value:function(){return r.a.createElement("div",{className:"CN_wrapper"},r.a.createElement(et,null),r.a.createElement(We,null),r.a.createElement(ot,null))}}]),a}(r.a.Component),ct=Object(J.b)((function(e){return{auth_user_id:e.auth_data.data.id}}),{getAuthDataTC:C,reqAuthPhoto:D})(st),it=function(e){Object(q.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeTC()}},{key:"render",value:function(){return this.props.initialized?this.props.state.auth_data.isAuth?r.a.createElement(ct,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{to:"/login"}),r.a.createElement(re.b,{path:"/login",render:function(){return r.a.createElement(ie,null)}})):r.a.createElement(_e,null)}}]),a}(r.a.Component),ut=Object(c.d)(Object(J.b)((function(e){return{state:e,isLoading:e.auth_data.isLoading,auth_user_id:e.auth_data.data.id,initialized:e.app.initialized}}),{initializeTC:function(){return function(e){var t=e(C());Promise.all([t]).then((function(){window.innerWidth<768&&e({type:"app/INITIALIZING_DEVICE",answer:"mobile"}),e({type:"app/INITIALIZATION_SUCCESSFUL"})}))}}}),re.f)(it);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J.a,{store:z},r.a.createElement(X.a,null,r.a.createElement(ut,null)))),document.getElementById("root"))},34:function(e,t,a){e.exports={content:"Profile_New_Post_content__3MM2K",preview:"Profile_New_Post_preview__1So8s",title:"Profile_New_Post_title__19hbN",wrapper:"Profile_New_Post_wrapper__Z-fN2",user_img:"Profile_New_Post_user_img__cy-RZ",post_text:"Profile_New_Post_post_text__2JDe9",btn_group:"Profile_New_Post_btn_group__2oqv5",btn:"Profile_New_Post_btn__1OLg4"}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t,a=new Date,n=a.getDate(),r=a.getMonth(),o=a.getHours(),s=a.getMinutes();switch(s<10&&(s="0"+s),r){case 0:t="Jan";break;case 1:t="Feb";break;case 2:t="March";break;case 3:t="Apr";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="Aug";break;case 8:t="Sep";break;case 9:t="Oct";break;case 10:t="Nov";break;case 11:t="Dec"}return"full_date"==e?n+" "+t+" at "+o+":"+s:o+":"+s}},89:function(e,t,a){e.exports={formControl:"FormLoginConrol_formControl__2i1fy",error:"FormLoginConrol_error__2F991"}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return p}));var n=a(9),r=a.n(n),o=a(15),s=a(38),c=a(6),i=a(13),u=a(69),l={dialogs_data:[],messages_data:[{id:3*Math.random(),name:"Kirill Baturevich",text:"mess_text",date:"12:09",imgUrl:"https://baturevich.ru/images/cn/user2.jpg"}],mes_header_data:{},isLoading:!1},_=function(e){return{type:"IS_LOADING",answer:e}},m=function(e){return{type:"ADD_MESS",mess_text:e}},d=function(e){return{type:"DELETE_MESSAGE",mess_id:e}},f=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(_(!0)),a.next=3,i.d.getUsers(e,t);case 3:o=a.sent,n(_(!1)),n({type:"SET_DIALOGS_DATA",users:o.items});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(_(!0)),t.next=3,i.c.getProfileData(e);case 3:n=t.sent,a(_(!1)),a({type:"SET_MESSAGES_DATA",mes_data:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return Object(c.a)({},e,{isLoading:t.answer});case"ADD_MESS":var a=t.mess_text,n=e.messages_data.length,r={id:n,name:"Kirill Baturevich",text:a,date:Object(u.a)("small_date"),imgUrl:"https://baturevich.ru/images/cn/user2.jpg"};if(a)return Object(c.a)({},e,{messages_data:[].concat(Object(s.a)(e.messages_data),[r])});case"DELETE_MESSAGE":return Object(c.a)({},e,{messages_data:e.messages_data.filter((function(e){return e.id!=t.mess_id}))});case"SET_DIALOGS_DATA":return Object(c.a)({},e,{dialogs_data:t.users});case"SET_MESSAGES_DATA":return Object(c.a)({},e,{mes_header_data:t.mes_data});default:return e}}},94:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(138),s=a.n(o),c=a(139),i=a.n(c);t.a=function(e){return r.a.createElement("div",{className:i.a.preloader},r.a.createElement("img",{src:s.a,alt:"preloader"}))}}},[[166,1,2]]]);
//# sourceMappingURL=main.f2b7c52d.chunk.js.map