{"version":3,"sources":["components/Contents/Users/Users.module.css","components/Contents/Users/User_Item/User_Item.module.css","components/common/Pagination/Pagination.module.css","components/Contents/Users/User_Item/User_Item.jsx","components/common/Pagination/Pagination.jsx","components/Contents/Users/Users.jsx"],"names":["module","exports","User_Item","props","className","s","user","key","id","to","src","photos","small","alt","name_and_city","name","city","followed","disabled","followInProgress","some","onClick","unFollowedUser","followedUser","Pagination","React","memo","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","useState","portionNumber","setPortionNumber","portionsCount","portionSize","leftPotionPageNumber","rightPortionPageNumber","pagination","filter","p","map","random","currentPage","selected","page_number","onChangePage","connect","state","users","users_page","isLoading","getUsersTC","followTC","unFollowTC","useEffect","user_id","page_size","Preloader"],"mappings":"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","file":"static/js/4.88676a9f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3YskH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_Item_user__3QkvN\",\"name\":\"User_Item_name__1ReeB\",\"city\":\"User_Item_city__fA4K5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__mqiy-\",\"selected\":\"Pagination_selected__1HJP1\"};","import React from 'react';\r\nimport s from './User_Item.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User_Item = (props) => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n                <div className={s.user} key={props.user.id}>\r\n                    <NavLink to={`/profile/${props.user.id}`} >\r\n                        <img src={props.user.photos.small\r\n                            ? props.user.photos.small\r\n                            : 'https://baturevich.ru/images/cn/user2.jpg'} alt=\"user-img\" />\r\n                    </NavLink>\r\n                    <div className={s.name_and_city}>\r\n                        <NavLink to={`/profile/${props.user.id}`} ><p className={s.name} >{props.user.name}</p></NavLink>\r\n                        <p className={s.city}>{props.user.city ? props.user.city : 'Chelyabinsk'}</p>\r\n                    </div>\r\n\r\n                    {props.user.followed\r\n                        ? <button disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                            onClick={() => props.unFollowedUser(props.user.id)}>Unfollow</button>\r\n                        : <button disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                            onClick={() => props.followedUser(props.user.id)}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default User_Item;","import React, { useState } from 'react';\r\nimport s from './Pagination.module.css'\r\n\r\nconst Pagination = React.memo(props => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 0; i <= pagesCount; i++) {\r\n        if (i > 0) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let portionsCount = Math.ceil(pagesCount / (props.portionSize || 10))\r\n    let leftPotionPageNumber = (portionNumber - 1) * props.portionSize\r\n    let rightPortionPageNumber = portionNumber * props.portionSize\r\n    const onChangePage = (p) => {\r\n        let page_number = p;\r\n        props.onChangePage(page_number, props.pageSize)\r\n    }\r\n    return (\r\n        <ul className={s.pagination}>\r\n            {portionNumber > 1 &&\r\n                <span onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                    <i className=\"fa fa-angle-left\"></i>\r\n                </span>\r\n            }\r\n            {\r\n             pages.filter(p => p >= leftPotionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <li key={Math.random(0 * 20)} className={props.currentPage === p && s.selected}\r\n                        onClick={() => onChangePage(p)}>{p}</li>\r\n                })\r\n            }\r\n            {portionsCount > portionNumber &&\r\n                <span onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                    <i className=\"fa fa-angle-right\"></i>\r\n                </span>\r\n            }\r\n        </ul>\r\n    )\r\n})\r\nexport default Pagination;","import React from 'react';\r\nimport s from './Users.module.css'\r\nimport { getUsersTC, followTC, unFollowTC } from '../../../redux/usersPageReducer';\r\nimport { connect } from 'react-redux';\r\nimport User_Item from './User_Item/User_Item';\r\nimport { useEffect } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport Pagination from '../../common/Pagination/Pagination';\r\nconst Users = (props) => {\r\n    useEffect(()=>{\r\n        props.getUsersTC(props.currentPage, props.pageSize)\r\n    },[])\r\n    const followedUser = (user_id) => {\r\n        props.followTC(user_id)\r\n    };\r\n    const unFollowedUser = (user_id) => {\r\n        props.unFollowTC(user_id)\r\n    }\r\n    const onChangePage = (page_number, page_size)=>{\r\n        props.getUsersTC(page_number, page_size)\r\n    }\r\n    return (\r\n        <div className={s.users}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <Pagination totalUsersCount={props.totalUsersCount}\r\n                    pageSize={props.pageSize}\r\n                    currentPage={props.currentPage}\r\n                    onChangePage={onChangePage}\r\n                    portionSize={20}\r\n                    />\r\n                    {props.isLoading \r\n                    ? <Preloader/>\r\n                    :props.users.map(user => (\r\n                        <User_Item key={Math.random()*3}user={user}\r\n                            unFollowedUser={unFollowedUser}\r\n                            followedUser={followedUser}\r\n                            followInProgress={props.followInProgress}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.users_page.users,\r\n        totalUsersCount: state.users_page.totalUsersCount,\r\n        currentPage: state.users_page.currentPage,\r\n        pageSize: state.users_page.pageSize,\r\n        isLoading: state.users_page.isLoading,\r\n        followInProgress: state.users_page.followInProgress,\r\n    }\r\n};\r\nexport default connect(mapStateToProps, { getUsersTC, followTC, unFollowTC, })(Users);"],"sourceRoot":""}