{"version":3,"sources":["components/Contents/Users/Users.module.css","components/Contents/Users/UserItem/UserItem.module.css","components/common/Pagination/Pagination.module.css","components/Contents/Users/UserItem/UserItem.jsx","components/common/Pagination/Pagination.jsx","components/Contents/Users/Users.jsx"],"names":["module","exports","UserItem","props","className","s","user_wrapper","user","to","id","src","photos","small","alt","name_and_city","name","city","followed","disabled","followInProgress","some","onClick","unFollowedUser","followedUser","device","mob_btn","Pagination","React","memo","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","useState","portionNumber","setPortionNumber","portionsCount","portionSize","leftPotionPageNumber","rightPortionPageNumber","pagination","filter","p","map","key","random","currentPage","selected","page_number","onChangePage","connect","state","users","users_page","isLoading","app","getUsersTC","followTC","unFollowTC","useEffect","user_id","page_size","Preloader"],"mappings":"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","file":"static/js/4.d7074946.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__wFvmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserItem_user__2EWlz\",\"user_wrapper\":\"UserItem_user_wrapper__lu87w\",\"name\":\"UserItem_name__3bSny\",\"city\":\"UserItem_city__1CD9E\",\"mob_btn\":\"UserItem_mob_btn__dEu6h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__3Dvzi\",\"selected\":\"Pagination_selected__AzCO1\"};","import React from 'react';\r\nimport s from './UserItem.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst UserItem = (props) => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n                <div className={s.user_wrapper} >\r\n                    <div className={s.user}>\r\n                    <NavLink to={`/profile/${props.user.id}`} >\r\n                        <img src={props.user.photos.small\r\n                            ? props.user.photos.small\r\n                            : 'https://baturevich.ru/images/cn/user2.jpg'} alt=\"user-img\" />\r\n                    </NavLink>\r\n                    <div className={s.name_and_city}>\r\n                        <NavLink to={`/profile/${props.user.id}`} >\r\n                            <p className={s.name} >\r\n                                {props.user.name}\r\n                            </p>\r\n                        </NavLink>\r\n                        <p className={s.city}>{props.user.city ? props.user.city : 'Chelyabinsk'}</p>\r\n                    </div>\r\n\r\n                    {props.user.followed\r\n                        ? <button disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                            onClick={() => props.unFollowedUser(props.user.id)}>Unfollow</button>\r\n                        : <button disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                            onClick={() => props.followedUser(props.user.id)}>Follow</button>\r\n                    }\r\n                </div>\r\n                {props.device === \"mobile\" ?\r\n                    props.user.followed\r\n                        ? <button  className={s.mob_btn} \r\n                            disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                            onClick={() => props.unFollowedUser(props.user.id)}>Unfollow</button>\r\n                        : <button className={s.mob_btn} \r\n                            disabled={props.followInProgress.some(id => id === props.user.id)}\r\n                            onClick={() => props.followedUser(props.user.id)}>Follow</button> \r\n                  : null           \r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default UserItem;","import React, { useState } from 'react';\r\nimport s from './Pagination.module.css'\r\n\r\nconst Pagination = React.memo(props => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 0; i <= pagesCount; i++) {\r\n        if (i > 0) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let portionsCount = Math.ceil(pagesCount / (props.portionSize || 10))\r\n    let leftPotionPageNumber = (portionNumber - 1) * props.portionSize\r\n    let rightPortionPageNumber = portionNumber * props.portionSize\r\n    const onChangePage = (p) => {\r\n        let page_number = p;\r\n        props.onChangePage(page_number, props.pageSize)\r\n    }\r\n    return (\r\n        <ul className={s.pagination}>\r\n            {portionNumber > 1 &&\r\n                <span onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                    <i className=\"fa fa-angle-left\"></i>\r\n                </span>\r\n            }\r\n            {\r\n             pages.filter(p => p >= leftPotionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <li key={Math.random(0 * 20)} className={props.currentPage === p && s.selected}\r\n                        onClick={() => onChangePage(p)}>{p}</li>\r\n                })\r\n            }\r\n            {portionsCount > portionNumber &&\r\n                <span onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                    <i className=\"fa fa-angle-right\"></i>\r\n                </span>\r\n            }\r\n        </ul>\r\n    )\r\n})\r\nexport default Pagination;","import React from 'react';\r\nimport s from './Users.module.css'\r\nimport { getUsersTC, followTC, unFollowTC } from '../../../redux/usersPageReducer';\r\nimport { connect } from 'react-redux';\r\nimport UserItem from './UserItem/UserItem';\r\nimport { useEffect } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport Pagination from '../../common/Pagination/Pagination';\r\n\r\nconst Users = (props) => {\r\n    useEffect(()=>{\r\n        props.getUsersTC(props.currentPage, props.pageSize)\r\n    },[])\r\n    const followedUser = (user_id) => {\r\n        props.followTC(user_id)\r\n    };\r\n    const unFollowedUser = (user_id) => {\r\n        props.unFollowTC(user_id)\r\n    }\r\n    const onChangePage = (page_number, page_size)=>{\r\n        props.getUsersTC(page_number, page_size)\r\n    }\r\n    return (\r\n        <div className={s.users}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <Pagination totalUsersCount={props.totalUsersCount}\r\n                    pageSize={props.pageSize}\r\n                    currentPage={props.currentPage}\r\n                    onChangePage={onChangePage}\r\n                    portionSize={props.device === \"mobile\" ? 5 : 20}\r\n                    />\r\n                    {props.isLoading \r\n                    ? <Preloader/>\r\n                    :props.users.map(user => (\r\n                        <UserItem key={Math.random()*3}user={user}\r\n                            unFollowedUser={unFollowedUser}\r\n                            followedUser={followedUser}\r\n                            followInProgress={props.followInProgress}\r\n                            device={props.device}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.users_page.users,\r\n        totalUsersCount: state.users_page.totalUsersCount,\r\n        currentPage: state.users_page.currentPage,\r\n        pageSize: state.users_page.pageSize,\r\n        isLoading: state.users_page.isLoading,\r\n        followInProgress: state.users_page.followInProgress,\r\n        device:state.app.device\r\n    }\r\n};\r\nexport default connect(mapStateToProps, { getUsersTC, followTC, unFollowTC, })(Users);"],"sourceRoot":""}