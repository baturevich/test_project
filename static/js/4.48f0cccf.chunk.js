(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{302:function(e,a,t){e.exports={users:"Users_users__3YskH"}},303:function(e,a,t){e.exports={user:"User_Item_user__3QkvN",name:"User_Item_name__1ReeB",city:"User_Item_city__fA4K5"}},304:function(e,a,t){e.exports={pagination:"Pagination_pagination__mqiy-",selected:"Pagination_selected__1HJP1"}},306:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(302),o=t.n(s),l=t(104),c=t(8),i=t(303),u=t.n(i),m=t(12),f=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:u.a.user,key:e.user.id},r.a.createElement(m.b,{to:"/profile/".concat(e.user.id)},r.a.createElement("img",{src:e.user.photos.small?e.user.photos.small:"https://baturevich.ru/images/cn/user2.jpg",alt:"user-img"})),r.a.createElement("div",{className:u.a.name_and_city},r.a.createElement(m.b,{to:"/profile/".concat(e.user.id)},r.a.createElement("p",{className:u.a.name},e.user.name)),r.a.createElement("p",{className:u.a.city},e.user.city?e.user.city:"Chelyabinsk")),e.user.followed?r.a.createElement("button",{disabled:e.followInProgress.some((function(a){return a===e.user.id})),onClick:function(){return e.unFollowedUser(e.user.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followInProgress.some((function(a){return a===e.user.id})),onClick:function(){return e.followedUser(e.user.id)}},"Follow"))))},g=t(94),p=t(53),d=t(304),_=t.n(d),E=r.a.memo((function(e){for(var a=Math.ceil(e.totalUsersCount/e.pageSize),t=[],s=0;s<=a;s++)s>0&&t.push(s);var o=Object(n.useState)(1),l=Object(p.a)(o,2),c=l[0],i=l[1],u=Math.ceil(a/(e.portionSize||10)),m=(c-1)*e.portionSize,f=c*e.portionSize;return r.a.createElement("ul",{className:_.a.pagination},c>1&&r.a.createElement("span",{onClick:function(){return i(c-1)}},r.a.createElement("i",{className:"fa fa-angle-left"})),t.filter((function(e){return e>=m&&e<=f})).map((function(a){return r.a.createElement("li",{key:Math.random(0),className:e.currentPage===a&&_.a.selected,onClick:function(){return function(a){var t=a;e.onChangePage(t,e.pageSize)}(a)}},a)})),u>c&&r.a.createElement("span",{onClick:function(){return i(c+1)}},r.a.createElement("i",{className:"fa fa-angle-right"})))}));a.default=Object(c.b)((function(e){return{users:e.users_page.users,totalUsersCount:e.users_page.totalUsersCount,currentPage:e.users_page.currentPage,pageSize:e.users_page.pageSize,isLoading:e.users_page.isLoading,followInProgress:e.users_page.followInProgress}}),{getUsersTC:l.c,followTC:l.b,unFollowTC:l.d})((function(e){Object(n.useEffect)((function(){e.getUsersTC(e.currentPage,e.pageSize)}),[]);var a=function(a){e.followTC(a)},t=function(a){e.unFollowTC(a)};return r.a.createElement("div",{className:o.a.users},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(E,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onChangePage:function(a,t){e.getUsersTC(a,t)},portionSize:20}),e.isLoading?r.a.createElement(g.a,null):e.users.map((function(n){return r.a.createElement(f,{key:3*Math.random(),user:n,unFollowedUser:t,followedUser:a,followInProgress:e.followInProgress})})))))}))}}]);
//# sourceMappingURL=4.48f0cccf.chunk.js.map